package com.kamble;

import java.util.ArrayList;
import java.util.List;

/*
    Algorithm

    1. If you want to find permutations of "abc", first find permutations of "bc",
        if you want to find permutations of "bc", first find permutations of "c",
        if you want to find permutations of "c", first find permutations of "";

    2. Once you have found permutations of lets say "bc", which are ["bc", "cb"]
          then you to traverse the list, get one String("bc"), then add "a", first before 0th index("abc"), and add the result to a new list,
           then add "a" after the 0th index("bac"), then add the result to the list, and then add "a" after the 1st index("bca") and add that to the list.
           and SIMILARLY, do the same for "cb".

    3. After processing both the elements from the sublist, you will have a new list ["abc", "bac", "bca", "acb", "cab", "cba"] and this is your final result.


    Note: do check the logic of adding a character at all this different positions, using substring method.

 */

public class Main {
    public static void main(String[] args) {
        String s = "abc";
        System.out.println(permutations(s));
    }

    //Returns a list of all permutations of the string. Formula => (str.length)! = 6 here
    private static List<String> permutations(String str) {

        //This list will store our result
        List<String> list = new ArrayList<>();

        //if the string becomes empty, just add "" and return the list
        if(str.isEmpty()) {
            list.add("");
            return list;
        }

        //this will get subresult e.g: [bc, cb]
        List<String> subList = permutations(str.substring(1));

        char ch = str.charAt(0);    //first character from the current string (a)

        //traverse the sublist
        for(String s : subList) {

            //from the first string eg: "bc", add "a" before 0th index, then after 0th index, then after 1th index.
            for(int i=0; i<=s.length(); i++) {
                String f = s.substring(0,i);    //for i =0, this will return empty string
                String l = s.substring(i);  // this will return the string from ith index to the last index
                String result = f + ch + l; // We will add our character here.
                list.add(result);   //now add it in the main list   (for String "bc", main list will be -> ["abc", "bac", "bca"])
            }
        }

        return list;    // return the main list
    }
}